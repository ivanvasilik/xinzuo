{% style %}
  .section-{{ section.id }} {
      position: relative;
      width: 100%;
      margin-inline: auto;
      overflow: hidden;
      padding: 96px 0 48px;
  }

  .section-{{ section.id }} img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      margin-bottom: 40px;
      max-height: 200px;
  }

  .section-{{ section.id }} h2 {
      font-family: "Sen";
      font-weight: 600;
      font-size: 36px;
      color: #f9f9f7;
  }

  .section-{{ section.id }} h2 span {
      color: #FD3E36;
      padding-left: 10px;
  }

  .section-{{ section.id }} h2:after {
      content: ".";
      color: #86868b;
  }

  .section-{{ section.id }} .home-price {
      display: flex;
      align-items: center;
      justify-content: space-between;
      /* padding: 0 10px; */
  }

  .section-{{ section.id }} .home-price span.prices {
      font-family: "Sen";
      font-weight: 600;
      font-size: 36px;
      color: #c1c4c7
  }

  .section-{{ section.id }} .home-price span.compare-price {
      font-size: 22px;
      text-decoration: line-through;
      color: #86868b;
  }

  .section-{{ section.id }} .home-price a {
      background-color: transparent;
      border: none;
      display: flex;
      font-family: "Sen";
      font-weight: 600;
      font-size: 16px;
      color: #c1c4c7;
      border-bottom: 2px solid #444444;
      padding: 0;
      line-height: 250%;
      align-items: center;
      gap: 15px;
  }

  .section-{{ section.id }} .home-price a img {
      width: 20px;
      height: 20px;
      margin: 0;
  }

  .section-{{ section.id }} .swiper {
      width: calc(min(1300px, 90%));
      margin: 0 auto;
      padding-top: 50px;
      min-height: 620px;
      overflow: visible;
  }

  .section-{{ section.id }} .swiper-slide {
      display: flex;
      flex-direction: column;
      justify-content: end;
      transition: height 0.5s ease-in-out !important;
      overflow: hidden;
      position: relative;
  }

  .section-{{ section.id }} .swiper-slide .active {
      height: 360px;
      overflow: visible;
  }

  .section-{{ section.id }} .home-menu-list {
      margin-bottom: 64px;
  }

  .section-{{ section.id }} .home-menu-list ul {
      display: flex;
      list-style: none;
      gap: 40px;
      padding: 0;
      border-bottom: 1px solid #86868b;
      width: fit-content;
      margin: 0;
      overflow: auto;
      width: 100%;
  }

  .section-{{ section.id }} .home-menu-list ul li {
      padding: 16px 0;
      color: #86868b;
      cursor: pointer;
  }

  .section-{{ section.id }} .home-menu-list ul li p {
      width: max-content;
  }

  .section-{{ section.id }} .home-menu-list ul li.active {
      color: #f9f9f7;
      border-bottom: 1px solid #F9F9F7;
  }

  .section-{{ section.id }} .home-slider {
      display: none;
  }

  .section-{{ section.id }} .home-slider.active {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
  }

  .section-{{ section.id }} .swiper-buttons {
      display: flex;
      margin-top: 64px;
      padding: 0 32px 16px;
      gap: 16px;
      justify-content: flex-end;
  }

  .section-{{ section.id }} .swiper-buttons div {
      width: 48px;
      height: 48px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.05);
  }

  .section-{{ section.id }} .swiper-buttons div[aria-disabled="true"] {
      opacity: 0.5;
  }

  @media screen and (max-width: 750px) {
      .section-{{ section.id }} {
          padding: 48px 0;
      }

      .section-{{ section.id }} h2 {
          font-size: 28px;
          margin: 0;
      }

      .section-{{ section.id }} img {
          margin-bottom: 24px;
      }

      .section-{{ section.id }} .home-products-th {
        display: flex;
        flex-direction: column;
        width:33%
      }

      .section-{{ section.id }} .home-products-th img {
        max-height:450px;
        width:100%;
      }

      .section-{{ section.id }} .home-menu-list {
          margin-bottom: 48px;
      }

      .section-{{ section.id }} .home-menu-list ul {
          gap: 32px;
      }

      .section-{{ section.id }} .swiper-slide h2 {
          font-size: 22px;
      }

      .section-{{ section.id }} .home-price span.prices {
          font-size: 22px;
      }

      .section-{{ section.id }} .home-price span.compare-price {
          font-size: 19px;
      }

      .section-{{ section.id }} .swiper-buttons {
          margin-top: 32px;
      }

      .section-{{ section.id }} .swiper-buttons div {
          width: 40px;
          height: 40px;
          padding: 8px;
      }
  }

  .home-products-th {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  @media screen and (max-width: 1300px) {
    .section-{{ section.id }} .home-slider.active {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
  }

  @media screen and (max-width: 650px) {
    .section-{{ section.id }} .home-slider.active {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        gap: 20px;
    }

    .home-products-th {
      width: 100% !important;
    }
  }
{% endstyle %}

<div class="section-background color-{{ section.settings.color_scheme }}"></div>
<section class="section-{{ section.id }} section section--page-width color-{{ section.settings.color_scheme }}">
  <h2>
    {{ section.settings.heading -}}
    <span>{{ section.settings.heading_color }}</span>
  </h2>
  <div class="home-menu-list">
    <ul>
      {% for block in section.blocks %}
        <li
          class="home-collection home-collection-{{ forloop.index }} {% if forloop.index == 1 %}active{% endif %}"
          onclick="homeslider({{ forloop.index }})"
        >
          <p>{{ block.settings.collection_name }}</p>
        </li>
      {% endfor %}
    </ul>
  </div>
  {% for block in section.blocks %}
    {% assign collection = block.settings.collection %}
    <div class="home-slider home-slider-{{ forloop.index }} {% if forloop.index == 1 %}active{% endif %}">
      {% for product in collection.products %}
        <div class="home-products-th">
          {% assign image = product.featured_image %}
          <img src="{{ image | img_url: 'master' }}" width="100%" height="100%" alt="{{ product.featured_image.alt }}">
          <h2>{{ product.title }}</h2>
          <div class="home-reviews"></div>
          <div class="home-price">
            <span class="prices">
              <span class="sale-price">{{ product.price | money }}</span>
              <span class="compare-price">{{ product.compare_at_price | money }}</span>
            </span>
            <a href="{{ product.url }}"
              >SHOP NOW
              <img src="{{ 'ArrowUpRight.svg?v=1760533953' | file_url }}" width="100%" height="100%" alt="product"
            ></a>
          </div>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
</section>

<script>
  {% for block in section.blocks %}
      const swiper_{{ forloop.index }} = new Swiper('.swiper-{{ forloop.index }}', {
          slidesPerView: 1.1,
          spaceBetween: 10,
          breakpoints: {
              768: {
                  slidesPerView: 2,
                  spaceBetween: 20,
              },
              1024: {
                  slidesPerView: 2.2,
                  spaceBetween: 30,
              },
          },
          navigation: {
              nextEl: '.swiper-button-next-{{ forloop.index }}',
              prevEl: '.swiper-button-prev-{{ forloop.index }}',
          },
      });
  {% endfor %}
</script>

<script>
  const homeslider = (num) => {
    const homeCollections = document.querySelectorAll('.home-collection');
    const homeSliders = document.querySelectorAll('.home-slider');
    const homeCollection = document.querySelector(`.home-collection-${num}`);
    const homeSlider = document.querySelector(`.home-slider-${num}`);

    homeCollections.forEach((homeCollection) => {
      homeCollection.classList.remove('active');
    });
    homeSliders.forEach((homeSlider) => {
      homeSlider.classList.remove('active');
    });
    homeCollection.classList.add('active');
    homeSlider.classList.add('active');
  };
</script>

{% schema %}
{
  "name": "Home Slider",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "heading_color",
      "label": "Color Heading"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:settings.color_scheme",
      "default": "scheme-1"
    }
  ],
  "blocks": [
    {
      "type": "block",
      "name": "Collection",
      "settings": [
        {
          "type": "text",
          "id": "collection_name",
          "label": "Collection Name"
        },
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Home Slider"
    }
  ]
}
{% endschema %}
